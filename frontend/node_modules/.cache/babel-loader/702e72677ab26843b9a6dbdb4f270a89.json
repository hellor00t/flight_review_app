{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport { useCallback } from 'react';\nimport { keys } from '../../services';\n\nfunction isMouseEvent(event) {\n  return _typeof(event) === 'object' && 'pageX' in event && 'pageY' in event;\n}\n\nvar pxToPercent = function pxToPercent(proportion, whole) {\n  return proportion / whole * 100;\n};\n\nvar getPanelMinSize = function getPanelMinSize(panelMinSize, containerSize, resizerSize) {\n  var panelMinSizePercent = 0;\n  var panelMinSizeInt = parseInt(panelMinSize);\n\n  if (panelMinSize.indexOf('px') > -1) {\n    panelMinSizePercent = pxToPercent(panelMinSizeInt, containerSize);\n  } else if (panelMinSize.indexOf('%') > -1) {\n    panelMinSizePercent = panelMinSizeInt + resizerSize / containerSize * panelMinSizeInt;\n  }\n\n  return panelMinSizePercent;\n};\n\nexport var useContainerCallbacks = function useContainerCallbacks(_ref) {\n  var isHorizontal = _ref.isHorizontal,\n      state = _ref.state,\n      setState = _ref.setState,\n      containerRef = _ref.containerRef,\n      registryRef = _ref.registryRef,\n      onPanelWidthChange = _ref.onPanelWidthChange;\n  var getContainerSize = useCallback(function () {\n    return isHorizontal ? containerRef.current.getBoundingClientRect().width : containerRef.current.getBoundingClientRect().height;\n  }, [containerRef, isHorizontal]);\n  var getResizerButtonsSize = useCallback(function () {\n    // get sum of all of resizer button sizes to proper calculate panels ratio\n    var allResizers = registryRef.current.getAllResizers();\n    return allResizers.reduce(function (size, resizer) {\n      return size + (isHorizontal ? resizer.offsetWidth : resizer.offsetHeight);\n    }, 0);\n  }, [registryRef, isHorizontal]);\n  var onMouseDown = useCallback(function (event) {\n    var currentTarget = event.currentTarget;\n    var clientX = isMouseEvent(event) ? event.clientX : event.touches[0].clientX;\n    var clientY = isMouseEvent(event) ? event.clientY : event.touches[0].clientY;\n    setState(function (prevState) {\n      return _objectSpread({}, prevState, {\n        isDragging: true,\n        currentResizerPos: isHorizontal ? clientX : clientY,\n        previousPanelId: currentTarget.previousElementSibling.id,\n        nextPanelId: currentTarget.nextElementSibling.id,\n        resizersSize: getResizerButtonsSize()\n      });\n    });\n  }, [getResizerButtonsSize, isHorizontal, setState]);\n  var onKeyDown = useCallback(function (event) {\n    var key = event.key,\n        currentTarget = event.currentTarget;\n    var shouldResizeHorizontalPanel = isHorizontal && (key === keys.ARROW_LEFT || key === keys.ARROW_RIGHT);\n    var shouldResizeVerticalPanel = !isHorizontal && (key === keys.ARROW_UP || key === keys.ARROW_DOWN);\n    var prevPanelId = currentTarget.previousElementSibling.id;\n    var nextPanelId = currentTarget.nextElementSibling.id;\n\n    if ((shouldResizeHorizontalPanel || shouldResizeVerticalPanel) && prevPanelId && nextPanelId) {\n      event.preventDefault();\n      var registry = registryRef.current;\n\n      var _registry$getResizerS = registry.getResizerSiblings(prevPanelId, nextPanelId),\n          _registry$getResizerS2 = _slicedToArray(_registry$getResizerS, 2),\n          prevPanel = _registry$getResizerS2[0],\n          nextPanel = _registry$getResizerS2[1];\n\n      var resizersSize = getResizerButtonsSize();\n      var containerSize = getContainerSize();\n      var prevPanelSize = pxToPercent(prevPanel.getSizePx() - (key === keys.ARROW_UP || key === keys.ARROW_LEFT ? 10 : -10), containerSize - resizersSize);\n      var nextPanelSize = pxToPercent(nextPanel.getSizePx() - (key === keys.ARROW_DOWN || key === keys.ARROW_RIGHT ? 10 : -10), containerSize - resizersSize);\n      setState(_objectSpread({}, state, {\n        isDragging: false\n      }));\n      var panelObject = registry.fetchAllPanels(prevPanelId, nextPanelId, containerSize - resizersSize);\n\n      if (onPanelWidthChange) {\n        var _objectSpread2;\n\n        onPanelWidthChange(_objectSpread({}, panelObject, (_objectSpread2 = {}, _defineProperty(_objectSpread2, prevPanelId, prevPanelSize), _defineProperty(_objectSpread2, nextPanelId, nextPanelSize), _objectSpread2)));\n      }\n\n      prevPanel.setSize(prevPanelSize);\n      nextPanel.setSize(nextPanelSize);\n    }\n  }, // `setState` is safe to omit from `useCallback`\n  // (https://reactjs.org/docs/hooks-reference.html#usestate)\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [getContainerSize, getResizerButtonsSize, isHorizontal, onPanelWidthChange, registryRef]);\n  var onMouseMove = useCallback(function (event) {\n    if (state.isDragging && state.previousPanelId && state.nextPanelId) {\n      var clientX = isMouseEvent(event) ? event.clientX : event.touches[0].clientX;\n      var clientY = isMouseEvent(event) ? event.clientY : event.touches[0].clientY;\n      var x = isHorizontal ? clientX : clientY;\n      var registry = registryRef.current;\n\n      var _registry$getResizerS3 = registry.getResizerSiblings(state.previousPanelId, state.nextPanelId),\n          _registry$getResizerS4 = _slicedToArray(_registry$getResizerS3, 2),\n          prevPanel = _registry$getResizerS4[0],\n          nextPanel = _registry$getResizerS4[1];\n\n      var delta = x - state.currentResizerPos;\n      var containerSize = getContainerSize() - state.resizersSize;\n      var prevPanelMin = getPanelMinSize(prevPanel.minSize, containerSize, state.resizersSize);\n      var nextPanelMin = getPanelMinSize(nextPanel.minSize, containerSize, state.resizersSize);\n      var prevPanelSize = pxToPercent(prevPanel.getSizePx() + delta, containerSize);\n      var nextPanelSize = pxToPercent(nextPanel.getSizePx() - delta, containerSize);\n      var panelObject = registry.fetchAllPanels(state.previousPanelId, state.nextPanelId, containerSize);\n\n      if (prevPanelSize >= prevPanelMin && nextPanelSize >= nextPanelMin) {\n        if (onPanelWidthChange) {\n          var _objectSpread3;\n\n          onPanelWidthChange(_objectSpread({}, panelObject, (_objectSpread3 = {}, _defineProperty(_objectSpread3, state.previousPanelId, prevPanelSize), _defineProperty(_objectSpread3, state.nextPanelId, nextPanelSize), _objectSpread3)));\n        }\n\n        prevPanel.setSize(prevPanelSize);\n        nextPanel.setSize(nextPanelSize);\n        setState(_objectSpread({}, state, {\n          currentResizerPos: x\n        }));\n      }\n    }\n  }, [getContainerSize, isHorizontal, onPanelWidthChange, registryRef, setState, state]);\n  return {\n    onMouseDown: onMouseDown,\n    onKeyDown: onKeyDown,\n    onMouseMove: onMouseMove\n  };\n};","map":{"version":3,"sources":["/Users/scott/Projects/flight_review_project/node_modules/@elastic/eui/es/components/resizable_container/helpers.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","_typeof","constructor","useCallback","isMouseEvent","event","pxToPercent","proportion","whole","getPanelMinSize","panelMinSize","containerSize","resizerSize","panelMinSizePercent","panelMinSizeInt","parseInt","indexOf","useContainerCallbacks","_ref","isHorizontal","state","setState","containerRef","registryRef","onPanelWidthChange","getContainerSize","current","getBoundingClientRect","width","height","getResizerButtonsSize","allResizers","getAllResizers","reduce","size","resizer","offsetWidth","offsetHeight","onMouseDown","currentTarget","clientX","touches","clientY","prevState","isDragging","currentResizerPos","previousPanelId","previousElementSibling","id","nextPanelId","nextElementSibling","resizersSize","onKeyDown","shouldResizeHorizontalPanel","ARROW_LEFT","ARROW_RIGHT","shouldResizeVerticalPanel","ARROW_UP","ARROW_DOWN","prevPanelId","preventDefault","registry","_registry$getResizerS","getResizerSiblings","_registry$getResizerS2","prevPanel","nextPanel","prevPanelSize","getSizePx","nextPanelSize","panelObject","fetchAllPanels","_objectSpread2","setSize","onMouseMove","x","_registry$getResizerS3","_registry$getResizerS4","delta","prevPanelMin","minSize","nextPanelMin","_objectSpread3"],"mappings":"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","sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useCallback } from 'react';\nimport { keys } from '../../services';\n\nfunction isMouseEvent(event) {\n  return _typeof(event) === 'object' && 'pageX' in event && 'pageY' in event;\n}\n\nvar pxToPercent = function pxToPercent(proportion, whole) {\n  return proportion / whole * 100;\n};\n\nvar getPanelMinSize = function getPanelMinSize(panelMinSize, containerSize, resizerSize) {\n  var panelMinSizePercent = 0;\n  var panelMinSizeInt = parseInt(panelMinSize);\n\n  if (panelMinSize.indexOf('px') > -1) {\n    panelMinSizePercent = pxToPercent(panelMinSizeInt, containerSize);\n  } else if (panelMinSize.indexOf('%') > -1) {\n    panelMinSizePercent = panelMinSizeInt + resizerSize / containerSize * panelMinSizeInt;\n  }\n\n  return panelMinSizePercent;\n};\n\nexport var useContainerCallbacks = function useContainerCallbacks(_ref) {\n  var isHorizontal = _ref.isHorizontal,\n      state = _ref.state,\n      setState = _ref.setState,\n      containerRef = _ref.containerRef,\n      registryRef = _ref.registryRef,\n      onPanelWidthChange = _ref.onPanelWidthChange;\n  var getContainerSize = useCallback(function () {\n    return isHorizontal ? containerRef.current.getBoundingClientRect().width : containerRef.current.getBoundingClientRect().height;\n  }, [containerRef, isHorizontal]);\n  var getResizerButtonsSize = useCallback(function () {\n    // get sum of all of resizer button sizes to proper calculate panels ratio\n    var allResizers = registryRef.current.getAllResizers();\n    return allResizers.reduce(function (size, resizer) {\n      return size + (isHorizontal ? resizer.offsetWidth : resizer.offsetHeight);\n    }, 0);\n  }, [registryRef, isHorizontal]);\n  var onMouseDown = useCallback(function (event) {\n    var currentTarget = event.currentTarget;\n    var clientX = isMouseEvent(event) ? event.clientX : event.touches[0].clientX;\n    var clientY = isMouseEvent(event) ? event.clientY : event.touches[0].clientY;\n    setState(function (prevState) {\n      return _objectSpread({}, prevState, {\n        isDragging: true,\n        currentResizerPos: isHorizontal ? clientX : clientY,\n        previousPanelId: currentTarget.previousElementSibling.id,\n        nextPanelId: currentTarget.nextElementSibling.id,\n        resizersSize: getResizerButtonsSize()\n      });\n    });\n  }, [getResizerButtonsSize, isHorizontal, setState]);\n  var onKeyDown = useCallback(function (event) {\n    var key = event.key,\n        currentTarget = event.currentTarget;\n    var shouldResizeHorizontalPanel = isHorizontal && (key === keys.ARROW_LEFT || key === keys.ARROW_RIGHT);\n    var shouldResizeVerticalPanel = !isHorizontal && (key === keys.ARROW_UP || key === keys.ARROW_DOWN);\n    var prevPanelId = currentTarget.previousElementSibling.id;\n    var nextPanelId = currentTarget.nextElementSibling.id;\n\n    if ((shouldResizeHorizontalPanel || shouldResizeVerticalPanel) && prevPanelId && nextPanelId) {\n      event.preventDefault();\n      var registry = registryRef.current;\n\n      var _registry$getResizerS = registry.getResizerSiblings(prevPanelId, nextPanelId),\n          _registry$getResizerS2 = _slicedToArray(_registry$getResizerS, 2),\n          prevPanel = _registry$getResizerS2[0],\n          nextPanel = _registry$getResizerS2[1];\n\n      var resizersSize = getResizerButtonsSize();\n      var containerSize = getContainerSize();\n      var prevPanelSize = pxToPercent(prevPanel.getSizePx() - (key === keys.ARROW_UP || key === keys.ARROW_LEFT ? 10 : -10), containerSize - resizersSize);\n      var nextPanelSize = pxToPercent(nextPanel.getSizePx() - (key === keys.ARROW_DOWN || key === keys.ARROW_RIGHT ? 10 : -10), containerSize - resizersSize);\n      setState(_objectSpread({}, state, {\n        isDragging: false\n      }));\n      var panelObject = registry.fetchAllPanels(prevPanelId, nextPanelId, containerSize - resizersSize);\n\n      if (onPanelWidthChange) {\n        var _objectSpread2;\n\n        onPanelWidthChange(_objectSpread({}, panelObject, (_objectSpread2 = {}, _defineProperty(_objectSpread2, prevPanelId, prevPanelSize), _defineProperty(_objectSpread2, nextPanelId, nextPanelSize), _objectSpread2)));\n      }\n\n      prevPanel.setSize(prevPanelSize);\n      nextPanel.setSize(nextPanelSize);\n    }\n  }, // `setState` is safe to omit from `useCallback`\n  // (https://reactjs.org/docs/hooks-reference.html#usestate)\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [getContainerSize, getResizerButtonsSize, isHorizontal, onPanelWidthChange, registryRef]);\n  var onMouseMove = useCallback(function (event) {\n    if (state.isDragging && state.previousPanelId && state.nextPanelId) {\n      var clientX = isMouseEvent(event) ? event.clientX : event.touches[0].clientX;\n      var clientY = isMouseEvent(event) ? event.clientY : event.touches[0].clientY;\n      var x = isHorizontal ? clientX : clientY;\n      var registry = registryRef.current;\n\n      var _registry$getResizerS3 = registry.getResizerSiblings(state.previousPanelId, state.nextPanelId),\n          _registry$getResizerS4 = _slicedToArray(_registry$getResizerS3, 2),\n          prevPanel = _registry$getResizerS4[0],\n          nextPanel = _registry$getResizerS4[1];\n\n      var delta = x - state.currentResizerPos;\n      var containerSize = getContainerSize() - state.resizersSize;\n      var prevPanelMin = getPanelMinSize(prevPanel.minSize, containerSize, state.resizersSize);\n      var nextPanelMin = getPanelMinSize(nextPanel.minSize, containerSize, state.resizersSize);\n      var prevPanelSize = pxToPercent(prevPanel.getSizePx() + delta, containerSize);\n      var nextPanelSize = pxToPercent(nextPanel.getSizePx() - delta, containerSize);\n      var panelObject = registry.fetchAllPanels(state.previousPanelId, state.nextPanelId, containerSize);\n\n      if (prevPanelSize >= prevPanelMin && nextPanelSize >= nextPanelMin) {\n        if (onPanelWidthChange) {\n          var _objectSpread3;\n\n          onPanelWidthChange(_objectSpread({}, panelObject, (_objectSpread3 = {}, _defineProperty(_objectSpread3, state.previousPanelId, prevPanelSize), _defineProperty(_objectSpread3, state.nextPanelId, nextPanelSize), _objectSpread3)));\n        }\n\n        prevPanel.setSize(prevPanelSize);\n        nextPanel.setSize(nextPanelSize);\n        setState(_objectSpread({}, state, {\n          currentResizerPos: x\n        }));\n      }\n    }\n  }, [getContainerSize, isHorizontal, onPanelWidthChange, registryRef, setState, state]);\n  return {\n    onMouseDown: onMouseDown,\n    onKeyDown: onKeyDown,\n    onMouseMove: onMouseMove\n  };\n};"]},"metadata":{},"sourceType":"module"}