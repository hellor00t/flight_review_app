{"ast":null,"code":"var _jsxFileName = \"/Users/scott/Projects/flight_review_project/src/FlightReview.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport AddReview from \"./AddReview.js\";\nimport Card from \"react-bootstrap/Card\";\n\nconst FlightReview = () => {\n  const [data, setData] = useState([]);\n  const [refresh, setRefresh] = useState(true);\n  const result = axios(\"http://localhost:8080/reviews\");\n  setData(result.data); //   useEffect(() => {\n  //     const fetchData = async () => {\n  //       const result = await axios(\"http://localhost:8080/reviews\");\n  //       setData(result.data);\n  //     };\n  //     if (refresh === true) {\n  //         console.log('Refreshing reviews table')\n  //         fetchData();\n  //         setRefresh(false);\n  //     } \n  //   }, [refresh]);\n\n  if (data === []) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 12\n      }\n    }, \"loading\");\n  } else {\n    return /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }, \"Reviews\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"reviews\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(AddReview, {\n      refreshData: setRefresh,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, \"Flight\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, \"Rating\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, \"Comment\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, \"Username\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, data.map(item => /*#__PURE__*/React.createElement(\"tr\", {\n      key: item[\"id\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, item[\"flight\"]), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, item[\"flightRating\"]), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }, item[\"comment\"]), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, item[\"user\"]))))))));\n  }\n};\n\nexport default FlightReview;","map":{"version":3,"sources":["/Users/scott/Projects/flight_review_project/src/FlightReview.js"],"names":["React","useState","useEffect","axios","AddReview","Card","FlightReview","data","setData","refresh","setRefresh","result","map","item"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;;AAGA,MAAMC,YAAY,GAAG,MAAM;AAEzB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,IAAD,CAAtC;AAEE,QAAMU,MAAM,GAAGR,KAAK,CAAC,+BAAD,CAApB;AACAK,EAAAA,OAAO,CAACG,MAAM,CAACJ,IAAR,CAAP,CANuB,CAQ3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACE,MAAIA,IAAI,KAAK,EAAb,EAAiB;AACf,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAP;AACD,GAFD,MAEO;AACL,wBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACN;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAW,MAAA,WAAW,EAAEG,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADF,CAFF,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,CAFF,CADE,eAUF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGH,IAAI,CAACK,GAAL,CAAUC,IAAD,iBACR;AAAI,MAAA,GAAG,EAAEA,IAAI,CAAC,IAAD,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAI,CAAC,QAAD,CAAT,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAI,CAAC,cAAD,CAAT,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAI,CAAC,SAAD,CAAT,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAI,CAAC,MAAD,CAAT,CAJF,CADD,CADH,CAVE,CAPJ,CADM,CADJ,CADJ;AAoCD;AACF,CA3DD;;AA6DA,eAAeP,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport AddReview from \"./AddReview.js\" \nimport Card from \"react-bootstrap/Card\";\n\n\nconst FlightReview = () => {\n\n  const [data, setData] = useState([]);\n  const [refresh, setRefresh] = useState(true);\n\n    const result = axios(\"http://localhost:8080/reviews\");\n    setData(result.data);\n\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       const result = await axios(\"http://localhost:8080/reviews\");\n//       setData(result.data);\n//     };\n//     if (refresh === true) {\n//         console.log('Refreshing reviews table')\n//         fetchData();\n//         setRefresh(false);\n//     } \n//   }, [refresh]);\n  if (data === []) {\n    return <div>loading</div>\n  } else {\n    return (\n        <Card>\n            <Card.Body>\n      <div className=\"card\">\n        <h1>Reviews</h1>         \n        <div className=\"reviews\">\n          <div>\n              <AddReview refreshData={setRefresh}/>\n          </div>\n        </div>\n          <table>\n        <thead>\n            {/* search from comments, sortable table, anon user post */}\n          <tr>\n            <th>Flight</th>\n            <th>Rating</th>\n            <th>Comment</th>\n            <th>Username</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data.map((item) => (\n            <tr key={item[\"id\"]}>\n              <td>{item[\"flight\"]}</td>\n              <td>{item[\"flightRating\"]}</td>\n              <td>{item[\"comment\"]}</td>\n              <td>{item[\"user\"]}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n   \n      </div>\n      </Card.Body>\n      </Card>\n    );\n  }\n};\n\nexport default FlightReview;"]},"metadata":{},"sourceType":"module"}